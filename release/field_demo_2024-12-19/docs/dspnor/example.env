# Dspnor Plugin Configuration Example
# Copy this to your .env file and adjust values as needed

# Enablement & mode
DSPNOR_ENABLED=true
DSPNOR_SAFE_MODE=true

# Discovery / info (ICD defaults)
DSPNOR_DISCOVERY_MULTICAST=227.228.229.230
DSPNOR_DISCOVERY_PORT=59368
DSPNOR_INFO_TCP_PORT=59623

# Services (we prefer UDP)
DSPNOR_CAT010_PROTO=udp
DSPNOR_CAT010_HOST=192.168.1.248
DSPNOR_CAT010_PORT=4010

DSPNOR_STATUS_PROTO=tcp
DSPNOR_STATUS_HOST=192.168.1.248
DSPNOR_STATUS_PORT=59623

# External heading/GPS (listen; we normalize to bow)
DSPNOR_NMEA_UDP_PORT=60000

# Optional INS injection to the unit (off by default)
DSPNOR_INS_INJECT_ENABLED=false
DSPNOR_INS_INJECT_RATE_HZ=25

# Normalization & units
DSPNOR_BEARING_IS_RELATIVE=false
DSPNOR_RANGE_UNITS=m
DSPNOR_SPEED_UNITS=mps
DSPNOR_CONF_MAP="snr_db:linear:0:30"
DSPNOR_MIN_CONF=0.05
DSPNOR_MAX_CONF=0.99

# IO/limits
DSPNOR_BUFFER_BYTES=65536
DSPNOR_CONNECT_TIMEOUT_SEC=5
DSPNOR_RECONNECT_BACKOFF_MS=500,1000,2000,5000
DSPNOR_HEARTBEAT_EXPECTED_SEC=5
DSPNOR_MAX_MSG_RATE_HZ=200

# Publishing / debug
DSPNOR_PUBLISH_TOPIC=detections.dspnor
DSPNOR_REBROADCAST_UDP_PORT=0

# Logging / metrics
DSPNOR_LOG_LEVEL=INFO
DSPNOR_METRICS_PORT=0

# Dangerous ops (guarded)
DSPNOR_ALLOW_RESET=false
DSPNOR_ALLOW_REBOOT=false
DSPNOR_UNIT_SERIAL=""
